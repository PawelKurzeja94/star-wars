<ng-container
  *ngIf="{
    playerOne: playerOneGameState$ | async,
    playerTwo: playerTwoGameState$ | async,
    loading: gameLoading$ | async,
    gameResult: gameResult$ | async,
    gameScore: gameScore$ | async,
    game: game$ | async
  } as data"
>
  <div class="flex-center">
    <button mat-flat-button (click)="start('Person')">Get people</button>
    <button mat-flat-button (click)="start('Starship')">Get starships</button>
  </div>

  <div class="wrapper">
    <div class="player">
      <h2>PLAYER 1</h2>
      <h3>{{ data.gameScore?.playerOne }}</h3>
      <div class="player-card">
        <app-game-result-card
          [playerData]="data.playerOne?.data || null"
          [loading]="data.playerOne?.loading"
          [showError]="data.gameResult === GameResult.ERROR"
          [winningCard]="data.gameResult === GameResult.P1WINS"
        ></app-game-result-card>
      </div>
    </div>

    <div class="player">
      <h2>PLAYER 2</h2>
      <h3>{{ data.gameScore?.playerTwo }}</h3>
      <div class="player-card">
        <app-game-result-card
          [playerData]="data.playerTwo?.data || null"
          [loading]="data.playerTwo?.loading"
          [showError]="data.gameResult === GameResult.ERROR"
          [winningCard]="data.gameResult === GameResult.P2WINS"
        ></app-game-result-card>
      </div>
    </div>
  </div>
</ng-container>
